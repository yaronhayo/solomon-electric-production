---
import Layout from "../../layouts/Layout.astro";
import Container from "../../components/ui/Container.astro";
import CtaButton from "../../components/ui/CtaButton.astro";
import PageHero from "../../components/PageHero.astro";
import FAQAccordion from "../../components/FAQAccordion.astro";
import ReviewCarousel from "../../components/ReviewCarousel.astro";
import CityMap from "../../components/CityMap.astro";
import { SITE_CONFIG } from "../../config/site";
import { ArrowRight } from "lucide-astro";
import { getCollection } from "astro:content";
import { replacePlaceholder } from "../../utils/content";
import { IMAGES } from "../../config/images";
const heroImage = IMAGES.heroes.serviceAreas;
const allServices = await getCollection("services");
const sortedServices = [...allServices].sort((a, b) =>
    a.data.name.localeCompare(b.data.name),
);

// Icon SVG paths for dynamic rendering
const iconMap: Record<string, string> = {
    AlertTriangle: `<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />`,
    CloudLightning: `<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15a4.5 4.5 0 004.5 4.5H18a3.75 3.75 0 001.332-7.257 3 3 0 00-3.758-3.848 5.25 5.25 0 00-10.233 2.33A4.502 4.502 0 002.25 15z M13 11l-2 4h3l-2 4" />`,
    Zap: `<path fill-rule="evenodd" d="M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z" clip-rule="evenodd" />`,
    Umbrella: `<path stroke-linecap="round" stroke-linejoin="round" d="M12 3v18m-9-9a9 9 0 0118 0H3z" />`,
    Shield: `<path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />`,
    Home: `<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />`,
};

export async function getStaticPaths() {
    const serviceAreas = await getCollection("service-areas");
    return serviceAreas.map((area) => ({
        params: { city: area.data.slug },
        props: { area },
    }));
}

const { area } = Astro.props;
const cityData = area.data;

// SEO - Enhanced for local search
const title = `Electrician ${cityData.name} FL | 24/7 Licensed Service | Solomon Electric`;
const description = replacePlaceholder(
    `Need an electrician in ${cityData.name}? Solomon Electric offers 24/7 emergency repairs, panel upgrades, EV charger installation. Licensed #${SITE_CONFIG.credentials.license.number}. Call ${SITE_CONFIG.contact.phone.formatted}!`,
);

// Schema.org LocalBusiness
const localBusinessSchema = {
    "@context": "https://schema.org",
    "@type": "Electrician",
    "@id": `${SITE_CONFIG.seo.siteUrl}/service-areas/${cityData.slug}/#localbusiness`,
    name: `Solomon Electric - ${cityData.name}`,
    image: `${SITE_CONFIG.seo.siteUrl}/og-default.jpg`,
    description: cityData.description,
    telephone: SITE_CONFIG.contact.phone.formatted,
    email: SITE_CONFIG.contact.email.primary,
    address: {
        "@type": "PostalAddress",
        streetAddress: "Serving all of " + cityData.name,
        addressLocality: cityData.name,
        addressRegion: "FL",
        addressCountry: "US",
    },
    url: `${SITE_CONFIG.seo.siteUrl}/service-areas/${cityData.slug}`,
    priceRange: "$$",
    openingHoursSpecification: [
        {
            "@type": "OpeningHoursSpecification",
            dayOfWeek: [
                "Monday",
                "Tuesday",
                "Wednesday",
                "Thursday",
                "Friday",
                "Saturday",
                "Sunday",
            ],
            opens: "00:00",
            closes: "23:59",
        },
    ],
    areaServed: {
        "@type": "City",
        name: cityData.name,
        containedInPlace: {
            "@type": "AdministrativeArea",
            name: `${cityData.county} County, FL`,
        },
    },
    geo: cityData.coordinates
        ? {
              "@type": "GeoCoordinates",
              latitude: cityData.coordinates.lat,
              longitude: cityData.coordinates.lng,
          }
        : undefined,
    // Note: aggregateRating removed - Google requires first-party review data
    knowsAbout: [
        "Residential Electrical Services",
        "Commercial Electrical Services",
        "Emergency Electrical Repairs",
        "Electrical Panel Upgrades",
        "EV Charging Station Installation",
    ],
    parentOrganization: {
        "@type": "Organization",
        name: "Solomon Electric",
        url: SITE_CONFIG.seo.siteUrl,
    },
};

// Breadcrumb Schema
const breadcrumbSchema = {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    itemListElement: [
        {
            "@type": "ListItem",
            position: 1,
            name: "Home",
            item: SITE_CONFIG.seo.siteUrl,
        },
        {
            "@type": "ListItem",
            position: 2,
            name: "Service Areas",
            item: `${SITE_CONFIG.seo.siteUrl}/service-areas`,
        },
        {
            "@type": "ListItem",
            position: 3,
            name: cityData.name,
            item: `${SITE_CONFIG.seo.siteUrl}/service-areas/${cityData.slug}`,
        },
    ],
};

// FAQPage Schema for rich results
const faqSchema =
    cityData.faqs && cityData.faqs.length > 0
        ? {
              "@context": "https://schema.org",
              "@type": "FAQPage",
              mainEntity: cityData.faqs.map(
                  (faq: { question: string; answer: string }) => ({
                      "@type": "Question",
                      name: faq.question,
                      acceptedAnswer: {
                          "@type": "Answer",
                          text: faq.answer,
                      },
                  }),
              ),
          }
        : null;
---

<Layout
    title={title}
    description={description}
    ogImage={IMAGES.static.ogDefault}
    ogImageAlt={`Solomon Electric - Professional Electrician serving ${cityData.name}, Florida`}
>
    <script
        type="application/ld+json"
        set:html={JSON.stringify(localBusinessSchema)}
    />
    <script
        type="application/ld+json"
        set:html={JSON.stringify(breadcrumbSchema)}
    />
    {
        faqSchema && (
            <script
                type="application/ld+json"
                set:html={JSON.stringify(faqSchema)}
            />
        )
    }

    <!-- Breadcrumb Navigation -->
    <nav class="breadcrumb-nav">
        <Container>
            <div class="breadcrumb-items">
                <a href="/" class="breadcrumb-link">Home</a>
                <svg
                    class="breadcrumb-sep"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                >
                    <path d="M9 5l7 7-7 7"></path>
                </svg>
                <a href="/service-areas" class="breadcrumb-link"
                    >Service Areas</a
                >
                <svg
                    class="breadcrumb-sep"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                >
                    <path d="M9 5l7 7-7 7"></path>
                </svg>
                <span class="breadcrumb-current">{cityData.name}</span>
            </div>
        </Container>
    </nav>

    <!-- Page Hero -->
    <PageHero
        title={`${cityData.name} Electrician<br/><span class='text-transparent bg-clip-text bg-gradient-to-r from-accent to-white'>24/7 Licensed Service</span>`}
        subtitle={`Licensed #${SITE_CONFIG.credentials.license.number} ‚Ä¢ ${cityData.county} County ‚Ä¢ Free Estimates`}
        description={`Need an electrician in ${cityData.name}, FL? Solomon Electric provides 24/7 emergency repairs, panel upgrades, EV charger installation, and all electrical services. Serving ${cityData.name} since ${SITE_CONFIG.company.foundedYear} with ${SITE_CONFIG.stats.totalProjects}+ projects completed across South Florida.`}
        image={heroImage}
        trustIndicators={true}
    />

    <!-- Stats Bar -->
    {
        cityData.stats &&
            cityData.stats.length > 0 &&
            (() => {
                const stats = cityData.stats!;
                return (
                    <section class="stats-bar">
                        <Container>
                            <div class="stats-grid">
                                {stats.map((stat, index) => (
                                    <div class="stat-item">
                                        <div class="stat-glow" />
                                        <span class="stat-value">
                                            {stat.value}
                                        </span>
                                        <span class="stat-label">
                                            {stat.label}
                                        </span>
                                        {index < stats.length - 1 && (
                                            <div class="stat-divider" />
                                        )}
                                    </div>
                                ))}
                            </div>
                        </Container>
                    </section>
                );
            })()
    }

    <!-- City Overview Section (About) -->
    <section class="overview-section">
        <div class="overview-bg">
            <div class="overview-decoration-1"></div>
            <div class="overview-decoration-2"></div>
        </div>
        <Container class="relative z-10">
            <div class="overview-grid">
                <div class="overview-content">
                    <header class="section-header section-header-left">
                        <span class="section-label"
                            >‚ö° About {cityData.name}</span
                        >
                        <h2 class="section-title">
                            Electrical Services in <span class="text-accent"
                                >{cityData.name}</span
                            >
                        </h2>
                    </header>
                    {
                        cityData.seoContent &&
                            cityData.seoContent.length > 0 && (
                                <p class="overview-text">
                                    {replacePlaceholder(
                                        cityData.seoContent[0].body,
                                    )}
                                </p>
                            )
                    }
                    <div class="overview-facts">
                        <div class="fact-card">
                            <div class="fact-icon">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke-width="1.5"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"
                                    ></path>
                                </svg>
                            </div>
                            <div class="fact-content">
                                <span class="fact-label">Population</span>
                                <span class="fact-value"
                                    >{cityData.population}</span
                                >
                            </div>
                        </div>
                        <div class="fact-card">
                            <div class="fact-icon">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke-width="1.5"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"
                                    ></path>
                                </svg>
                            </div>
                            <div class="fact-content">
                                <span class="fact-label">County</span>
                                <span class="fact-value">{cityData.county}</span
                                >
                            </div>
                        </div>
                        {
                            cityData.founded && (
                                <div class="fact-card">
                                    <div class="fact-icon">
                                        <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            fill="none"
                                            viewBox="0 0 24 24"
                                            stroke-width="1.5"
                                            stroke="currentColor"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"
                                            />
                                        </svg>
                                    </div>
                                    <div class="fact-content">
                                        <span class="fact-label">
                                            Established
                                        </span>
                                        <span class="fact-value">
                                            {cityData.founded}
                                        </span>
                                    </div>
                                </div>
                            )
                        }
                    </div>
                </div>
                <div class="landmarks-card">
                    <div class="landmarks-accent"></div>
                    <h3>Notable Locations We Serve</h3>
                    {
                        cityData.landmarks && (
                            <ul class="landmarks-list">
                                {cityData.landmarks.map((landmark) => (
                                    <li>
                                        <div class="landmark-check">
                                            <svg
                                                viewBox="0 0 24 24"
                                                fill="none"
                                                stroke="currentColor"
                                                stroke-width="3"
                                            >
                                                <path
                                                    stroke-linecap="round"
                                                    stroke-linejoin="round"
                                                    d="M5 13l4 4L19 7"
                                                />
                                            </svg>
                                        </div>
                                        <span>{landmark}</span>
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                </div>
            </div>
        </Container>
    </section>

    <!-- City Map Section -->
    {
        cityData.coordinates && (
            <CityMap
                cityName={cityData.name}
                county={cityData.county}
                coordinates={cityData.coordinates}
            />
        )
    }

    <!-- Electrical Challenges Section -->
    {
        cityData.challenges && cityData.challenges.length > 0 && (
            <section class="challenges-section">
                <div class="challenges-bg">
                    <div class="challenges-pattern" />
                </div>
                <Container class="relative z-10">
                    <header class="section-header section-header-light">
                        <span class="section-label section-label-light">
                            ‚ö° Local Challenges
                        </span>
                        <h2 class="section-title section-title-light">
                            Electrical Challenges in{" "}
                            <span class="text-accent">{cityData.name}</span>
                        </h2>
                        <p class="section-description section-description-light">
                            Our electricians understand the unique electrical
                            needs of {cityData.name} homes and businesses.
                        </p>
                    </header>

                    <div class="challenges-grid">
                        {cityData.challenges.map((challenge, index) => (
                            <div
                                class="challenge-card"
                                style={`--delay: ${index * 0.1}s`}
                            >
                                <div class="challenge-icon-wrapper">
                                    <div class="challenge-icon-bg" />
                                    <div class="challenge-icon">
                                        {challenge.icon === "Zap" ? (
                                            <svg
                                                xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 24 24"
                                                fill="currentColor"
                                                set:html={
                                                    iconMap[challenge.icon]
                                                }
                                            />
                                        ) : (
                                            <svg
                                                xmlns="http://www.w3.org/2000/svg"
                                                fill="none"
                                                viewBox="0 0 24 24"
                                                stroke-width="1.5"
                                                stroke="currentColor"
                                                set:html={
                                                    iconMap[
                                                        challenge.icon ||
                                                            "AlertTriangle"
                                                    ]
                                                }
                                            />
                                        )}
                                    </div>
                                </div>
                                <h3 class="challenge-title">
                                    {challenge.title}
                                </h3>
                                <p class="challenge-description">
                                    {challenge.description}
                                </p>
                            </div>
                        ))}
                    </div>
                </Container>
            </section>
        )
    }

    <!-- SEO Content Section (Text Paragraphs) -->
    {
        cityData.seoContent && cityData.seoContent.length > 1 && (
            <section class="seo-section">
                <Container>
                    <div class="seo-wrapper">
                        {cityData.seoContent.slice(1).map((section) => (
                            <article class="seo-block">
                                <h2 class="seo-heading">{section.heading}</h2>
                                <p class="seo-body">{section.body}</p>
                            </article>
                        ))}
                    </div>
                </Container>
            </section>
        )
    }

    <!-- Neighborhoods Section (Coverage Area) -->
    <section class="neighborhoods-section">
        <Container>
            <header class="section-header">
                <span class="section-label">üìç Coverage Area</span>
                <h2 class="section-title">
                    Neighborhoods in <span class="text-accent"
                        >{cityData.name}</span
                    >
                </h2>
            </header>

            <div class="neighborhoods-card">
                <div class="neighborhoods-accent"></div>
                <div class="neighborhoods-grid">
                    {
                        cityData.neighborhoods.map((neighborhood) => (
                            <span class="neighborhood-badge">
                                {neighborhood}
                            </span>
                        ))
                    }
                </div>
                {
                    cityData.majorRoads && (
                        <div class="major-roads">
                            <h4>Major Roads We Serve Along</h4>
                            <p>{cityData.majorRoads.join(" ‚Ä¢ ")}</p>
                        </div>
                    )
                }
            </div>
        </Container>
    </section>

    <!-- Featured Services Section -->
    <section class="services-section">
        <div class="services-bg">
            <div class="services-decoration-1"></div>
            <div class="services-decoration-2"></div>
        </div>
        <Container class="relative z-10">
            <header class="section-header">
                <span class="section-label">üîå Our Services</span>
                <h2 class="section-title">
                    Electrical Services in <span class="text-accent"
                        >{cityData.name}</span
                    >
                </h2>
                <p class="section-description">
                    Professional electrical solutions tailored for {
                        cityData.name
                    } homes and businesses. Click any service to see local pricing,
                    projects, and city-specific details.
                </p>
            </header>

            <div class="services-grid">
                {
                    sortedServices.map((svc, index) => (
                        <a
                            href={`/services/${svc.id}/${cityData.slug}`}
                            class="service-card"
                            style={`--delay: ${index * 0.05}s`}
                        >
                            <div class="service-card-accent" />
                            <div class="service-card-glow" />
                            <div class="service-card-content">
                                <div class="service-icon">
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 24 24"
                                        fill="currentColor"
                                    >
                                        <path
                                            fill-rule="evenodd"
                                            d="M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z"
                                            clip-rule="evenodd"
                                        />
                                    </svg>
                                </div>
                                <h3 class="service-name">{svc.data.name}</h3>
                                <p class="text-xs text-white/50 mb-4 line-clamp-2">
                                    {svc.data.description}
                                </p>
                                <span class="service-link">
                                    View in {cityData.name}
                                    <ArrowRight class="w-4 h-4 group-hover:translate-x-1 transition-transform" />
                                </span>
                            </div>
                        </a>
                    ))
                }
            </div>

            <div class="section-cta">
                <p class="text-center text-white/80 mb-4">
                    All {sortedServices.length} services available in {
                        cityData.name
                    }
                </p>
            </div>
        </Container>
    </section>

    <!-- Client Testimonials -->
    <ReviewCarousel />

    <!-- Common Questions -->
    <FAQAccordion
        faqs={cityData.faqs.map((faq, i) => ({
            id: `faq-${cityData.slug}-${i}`,
            ...faq,
            category: "General",
        }))}
    />

    <!-- Final CTA Section -->
    <section class="final-cta">
        <div class="final-cta-bg">
            <div class="cta-bolt-decoration cta-bolt-1">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                        fill-rule="evenodd"
                        d="M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z"
                        clip-rule="evenodd"></path>
                </svg>
            </div>
            <div class="cta-bolt-decoration cta-bolt-2">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                        fill-rule="evenodd"
                        d="M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z"
                        clip-rule="evenodd"></path>
                </svg>
            </div>
        </div>
        <Container class="relative z-10">
            <div class="final-cta-content">
                <div class="cta-icon-wrapper">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        fill="currentColor"
                        class="cta-icon"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z"
                            clip-rule="evenodd"></path>
                    </svg>
                </div>
                <h2 class="cta-title">
                    Need an Electrician in {cityData.name}?
                </h2>
                <p class="cta-description">
                    Contact Solomon Electric today for professional electrical
                    service in {cityData.name} and throughout {cityData.county} County.
                </p>
                <div class="cta-buttons">
                    <CtaButton
                        action="book"
                        variant="primary"
                        size="lg"
                        text="Get Free Estimate"
                    />
                    <CtaButton
                        action="call"
                        variant="secondary"
                        size="lg"
                        text="Call Now"
                    />
                </div>
            </div>
        </Container>
    </section>
</Layout>

<style>
    /* =========================================
       BREADCRUMB NAVIGATION
       ========================================= */
    .breadcrumb-nav {
        background: rgba(243, 243, 243, 0.9);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        padding: 0.75rem 0;
        border-bottom: 1px solid rgba(0, 0, 0, 0.08);
        position: sticky;
        top: var(--header-height, 70px);
        z-index: 45;
    }

    .breadcrumb-items {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.875rem;
    }

    .breadcrumb-link {
        color: var(--text-body);
        text-decoration: none;
        font-weight: 500;
        transition: color var(--transition-fast);
    }

    .breadcrumb-link:hover {
        color: var(--color-accent);
    }

    .breadcrumb-sep {
        width: 1rem;
        height: 1rem;
        color: var(--text-muted);
    }

    .breadcrumb-current {
        color: var(--color-primary);
        font-weight: 700;
    }

    /* =========================================
       STATS BAR - Electric energy feel
       ========================================= */
    .stats-bar {
        background: linear-gradient(
            135deg,
            var(--color-primary) 0%,
            #061f3d 100%
        );
        padding: clamp(1.5rem, 3vw, 2.5rem) 0;
        position: relative;
        overflow: hidden;
    }

    .stats-bar::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
            90deg,
            transparent 0%,
            rgba(20, 211, 227, 0.1) 50%,
            transparent 100%
        );
        animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {
        0%,
        100% {
            transform: translateX(-100%);
        }
        50% {
            transform: translateX(100%);
        }
    }

    .stats-grid {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: clamp(2rem, 4vw, 4rem);
        position: relative;
    }

    .stat-item {
        position: relative;
        text-align: center;
        padding: 0 clamp(1rem, 2vw, 2rem);
    }

    .stat-glow {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 80px;
        height: 80px;
        background: radial-gradient(
            circle,
            rgba(20, 211, 227, 0.3) 0%,
            transparent 70%
        );
        filter: blur(20px);
        opacity: 0;
        transition: opacity var(--transition-base);
    }

    .stat-item:hover .stat-glow {
        opacity: 1;
    }

    .stat-value {
        display: block;
        font-family: var(--font-display);
        font-size: clamp(2rem, 5vw, 3rem);
        font-weight: 800;
        color: var(--color-accent);
        line-height: 1;
        text-shadow: 0 0 30px rgba(20, 211, 227, 0.5);
        position: relative;
    }

    .stat-label {
        display: block;
        font-size: clamp(0.7rem, 1vw, 0.8rem);
        color: rgba(255, 255, 255, 0.85);
        text-transform: uppercase;
        letter-spacing: 0.1em;
        font-weight: 600;
        margin-top: 0.5rem;
    }

    .stat-divider {
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 1px;
        height: 40px;
        background: linear-gradient(
            180deg,
            transparent 0%,
            var(--color-accent) 50%,
            transparent 100%
        );
    }

    /* =========================================
       SECTION HEADERS
       ========================================= */
    .section-header {
        text-align: center;
        margin-bottom: clamp(2.5rem, 5vw, 4rem);
    }

    .section-header-left {
        text-align: left;
    }

    .section-label {
        display: inline-block;
        color: var(--color-accent);
        font-size: clamp(0.8rem, 1vw, 0.9rem);
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.15em;
        margin-bottom: clamp(0.75rem, 1.5vw, 1rem);
        padding: 0.5rem 1rem;
        background: rgba(20, 211, 227, 0.1);
        border-radius: var(--radius-full);
    }

    .section-label-light {
        color: white;
        background: rgba(255, 255, 255, 0.15);
    }

    .section-title {
        font-size: clamp(1.75rem, 4vw, 2.75rem);
        font-weight: 800;
        color: var(--color-primary);
        margin-bottom: clamp(0.75rem, 1.5vw, 1rem);
        text-transform: uppercase;
        line-height: 1.15;
    }

    .section-title-light {
        color: white;
    }

    .section-description {
        font-size: clamp(1rem, 1.25vw, 1.125rem);
        color: var(--text-body);
        max-width: 900px;
        margin: 0 auto;
        line-height: 1.7;
    }

    .section-description-light {
        color: rgba(255, 255, 255, 0.85);
    }

    .section-cta {
        text-align: center;
        margin-top: clamp(2.5rem, 5vw, 4rem);
    }

    /* =========================================
       OVERVIEW SECTION
       ========================================= */
    .overview-section {
        position: relative;
        overflow: hidden;
        background: var(--bg-body);
        padding: clamp(4rem, 8vw, 6rem) 0;
    }

    .overview-bg {
        position: absolute;
        inset: 0;
        pointer-events: none;
    }

    .overview-decoration-1 {
        position: absolute;
        top: -100px;
        right: -100px;
        width: 400px;
        height: 400px;
        background: radial-gradient(
            circle,
            rgba(20, 211, 227, 0.08) 0%,
            transparent 60%
        );
        transform: rotate(45deg);
    }

    .overview-decoration-2 {
        position: absolute;
        bottom: -100px;
        left: -100px;
        width: 300px;
        height: 300px;
        background: radial-gradient(
            circle,
            rgba(13, 67, 128, 0.08) 0%,
            transparent 60%
        );
    }

    .overview-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: clamp(2rem, 4vw, 3rem);
    }

    @media (min-width: 900px) {
        .overview-grid {
            grid-template-columns: 1.5fr 1fr;
            align-items: start;
        }
    }

    .overview-text {
        font-size: clamp(1rem, 1.15vw, 1.0625rem);
        color: var(--text-body);
        line-height: 1.8;
        margin-bottom: 2rem;
    }

    .overview-facts {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
    }

    .fact-card {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem 1.25rem;
        background: var(--bg-surface);
        box-shadow: var(--shadow-sm);
        transition: all var(--transition-base);
        clip-path: polygon(12px 0%, 100% 0%, calc(100% - 12px) 100%, 0% 100%);
    }

    .fact-card:hover {
        box-shadow:
            var(--shadow-lg),
            0 0 20px rgba(20, 211, 227, 0.1);
        transform: translateY(-4px);
    }

    .fact-icon {
        width: 2.5rem;
        height: 2.5rem;
        background: linear-gradient(
            135deg,
            rgba(20, 211, 227, 0.15) 0%,
            rgba(20, 211, 227, 0.05) 100%
        );
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .fact-icon svg {
        width: 1.25rem;
        height: 1.25rem;
        color: var(--color-accent);
    }

    .fact-label {
        display: block;
        font-size: 0.7rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .fact-value {
        display: block;
        font-weight: 700;
        color: var(--color-primary);
        font-size: 1.1rem;
    }

    .landmarks-card {
        position: relative;
        background: var(--bg-surface);
        padding: clamp(1.5rem, 3vw, 2rem);
        box-shadow: var(--shadow-md);
        overflow: hidden;
        clip-path: polygon(16px 0%, 100% 0%, calc(100% - 16px) 100%, 0% 100%);
    }

    .landmarks-accent {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
            90deg,
            var(--color-accent),
            var(--color-primary)
        );
    }

    .landmarks-card h3 {
        font-family: var(--font-display);
        font-size: clamp(1rem, 1.25vw, 1.125rem);
        color: var(--color-primary);
        text-transform: uppercase;
        margin-bottom: 1.5rem;
    }

    .landmarks-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: grid;
        gap: 0.75rem;
    }

    .landmarks-list li {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 0.95rem;
        color: var(--text-body);
    }

    .landmark-check {
        flex-shrink: 0;
        width: 1.5rem;
        height: 1.5rem;
        background: linear-gradient(
            135deg,
            var(--color-accent) 0%,
            var(--color-accent-dark) 100%
        );
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .landmark-check svg {
        width: 0.875rem;
        height: 0.875rem;
        color: white;
    }

    /* =========================================
       CHALLENGES SECTION - Dark premium look
       ========================================= */
    .challenges-section {
        position: relative;
        padding: clamp(4rem, 8vw, 6rem) 0;
        overflow: hidden;
    }

    .challenges-bg {
        position: absolute;
        inset: 0;
        background: linear-gradient(
            135deg,
            var(--color-primary) 0%,
            #061f3d 100%
        );
    }

    .challenges-pattern {
        position: absolute;
        inset: 0;
        background-image:
            radial-gradient(
                circle at 20% 80%,
                rgba(20, 211, 227, 0.15) 0%,
                transparent 40%
            ),
            radial-gradient(
                circle at 80% 20%,
                rgba(20, 211, 227, 0.1) 0%,
                transparent 40%
            );
    }

    .challenges-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: clamp(1.5rem, 3vw, 2rem);
    }

    .challenge-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: clamp(2rem, 4vw, 2.5rem);
        text-align: center;
        transition: all var(--transition-base);
        animation: fadeInUp 0.6s ease-out backwards;
        animation-delay: var(--delay);
        clip-path: polygon(16px 0%, 100% 0%, calc(100% - 16px) 100%, 0% 100%);
    }

    .challenge-card:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: rgba(20, 211, 227, 0.5);
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .challenge-icon-wrapper {
        position: relative;
        display: inline-block;
        margin-bottom: 1.5rem;
    }

    .challenge-icon-bg {
        position: absolute;
        inset: -8px;
        background: radial-gradient(
            circle,
            rgba(20, 211, 227, 0.3) 0%,
            transparent 70%
        );
        filter: blur(15px);
        opacity: 0;
        transition: opacity var(--transition-base);
    }

    .challenge-card:hover .challenge-icon-bg {
        opacity: 1;
    }

    .challenge-icon {
        width: clamp(3.5rem, 6vw, 4.5rem);
        height: clamp(3.5rem, 6vw, 4.5rem);
        background: linear-gradient(
            135deg,
            rgba(20, 211, 227, 0.2) 0%,
            rgba(20, 211, 227, 0.05) 100%
        );
        border: 2px solid rgba(20, 211, 227, 0.3);
        border-radius: var(--radius-xl);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }

    .challenge-icon svg {
        width: clamp(1.75rem, 3vw, 2.25rem);
        height: clamp(1.75rem, 3vw, 2.25rem);
        color: var(--color-accent);
    }

    .challenge-title {
        font-size: clamp(1rem, 1.25vw, 1.125rem);
        font-weight: 700;
        color: white;
        margin-bottom: 0.75rem;
        text-transform: uppercase;
    }

    .challenge-description {
        font-size: clamp(0.875rem, 1vw, 0.9375rem);
        color: rgba(255, 255, 255, 0.8);
        line-height: 1.7;
        margin: 0;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* =========================================
       SERVICES SECTION
       ========================================= */
    .services-section {
        position: relative;
        overflow: hidden;
        background: var(--bg-body);
        padding: clamp(4rem, 8vw, 6rem) 0;
    }

    .services-bg {
        position: absolute;
        inset: 0;
        pointer-events: none;
    }

    .services-decoration-1 {
        position: absolute;
        top: 50%;
        right: -150px;
        width: 300px;
        height: 300px;
        background: radial-gradient(
            circle,
            rgba(20, 211, 227, 0.08) 0%,
            transparent 60%
        );
    }

    .services-decoration-2 {
        position: absolute;
        bottom: 0;
        left: -100px;
        width: 200px;
        height: 200px;
        background: radial-gradient(
            circle,
            rgba(13, 67, 128, 0.08) 0%,
            transparent 60%
        );
    }

    .services-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: clamp(1.5rem, 3vw, 2rem);
        max-width: 1400px;
        margin: 0 auto;
    }

    @media (max-width: 900px) {
        .services-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 600px) {
        .services-grid {
            grid-template-columns: 1fr;
        }
    }

    .service-card {
        position: relative;
        background: var(--bg-surface);
        text-decoration: none;
        overflow: hidden;
        box-shadow: var(--shadow-md);
        transition: all var(--transition-base);
        animation: fadeInUp 0.6s ease-out backwards;
        animation-delay: var(--delay);
        clip-path: polygon(16px 0%, 100% 0%, calc(100% - 16px) 100%, 0% 100%);
    }

    .service-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow:
            var(--shadow-xl),
            0 0 40px rgba(20, 211, 227, 0.15);
    }

    .service-card-accent {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
            90deg,
            var(--color-accent),
            var(--color-primary)
        );
    }

    .service-card-glow {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            135deg,
            rgba(20, 211, 227, 0.05) 0%,
            transparent 50%
        );
        opacity: 0;
        transition: opacity var(--transition-base);
    }

    .service-card:hover .service-card-glow {
        opacity: 1;
    }

    .service-card-content {
        position: relative;
        padding: clamp(1.5rem, 3vw, 2rem);
        text-align: center;
    }

    .service-icon {
        width: clamp(3rem, 5vw, 3.5rem);
        height: clamp(3rem, 5vw, 3.5rem);
        background: linear-gradient(
            135deg,
            rgba(20, 211, 227, 0.15) 0%,
            rgba(20, 211, 227, 0.05) 100%
        );
        border-radius: var(--radius-lg);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.25rem;
    }

    .service-icon svg {
        width: clamp(1.5rem, 2.5vw, 1.75rem);
        height: clamp(1.5rem, 2.5vw, 1.75rem);
        color: var(--color-accent);
    }

    .service-name {
        font-size: clamp(1rem, 1.25vw, 1.125rem);
        font-weight: 700;
        color: var(--color-primary);
        margin-bottom: 1rem;
        text-transform: uppercase;
        line-height: 1.3;
    }

    .service-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--color-accent);
        font-weight: 700;
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .service-link svg {
        width: 1rem;
        height: 1rem;
        transition: transform var(--transition-fast);
    }

    .service-card:hover .service-link svg {
        transform: translateX(4px);
    }

    /* =========================================
       NEIGHBORHOODS SECTION
       ========================================= */
    .neighborhoods-section {
        background: linear-gradient(
            180deg,
            var(--bg-surface) 0%,
            var(--bg-body) 100%
        );
        padding: clamp(4rem, 8vw, 6rem) 0;
    }

    .neighborhoods-card {
        position: relative;
        background: var(--bg-surface);
        box-shadow: var(--shadow-md);
        padding: clamp(2rem, 4vw, 3rem);
        max-width: 1100px;
        margin: 0 auto;
        overflow: hidden;
        clip-path: polygon(20px 0%, 100% 0%, calc(100% - 20px) 100%, 0% 100%);
    }

    .neighborhoods-accent {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
            90deg,
            var(--color-accent),
            var(--color-primary)
        );
    }

    .neighborhoods-grid {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.75rem;
        margin-bottom: 2rem;
    }

    .neighborhood-badge {
        display: inline-block;
        padding: 0.625rem 1.25rem;
        background: linear-gradient(
            135deg,
            rgba(20, 211, 227, 0.1) 0%,
            rgba(20, 211, 227, 0.02) 100%
        );
        color: var(--color-primary);
        border: 1px solid rgba(20, 211, 227, 0.3);
        font-size: 0.9rem;
        font-weight: 600;
        transition: all var(--transition-fast);
        clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);
    }

    .neighborhood-badge:hover {
        background: var(--color-accent);
        color: white;
        border-color: var(--color-accent);
        transform: translateY(-2px);
    }

    .major-roads {
        text-align: center;
        padding-top: 2rem;
        border-top: 1px solid var(--border-light);
    }

    .major-roads h4 {
        font-size: 0.75rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.1em;
        margin-bottom: 0.75rem;
    }

    .major-roads p {
        color: var(--text-body);
        font-size: 1rem;
        font-weight: 500;
    }

    /* =========================================
       SEO CONTENT
       ========================================= */
    .seo-section {
        background: var(--bg-surface);
        padding: clamp(4rem, 8vw, 6rem) 0;
    }

    .seo-wrapper {
        max-width: 800px;
        margin: 0 auto;
    }

    .seo-block {
        margin-bottom: 3rem;
    }

    .seo-block:last-child {
        margin-bottom: 0;
    }

    .seo-heading {
        font-size: clamp(1.25rem, 2vw, 1.5rem);
        font-weight: 700;
        color: var(--color-primary);
        margin-bottom: 1rem;
        text-transform: uppercase;
        position: relative;
        padding-left: 1.5rem;
    }

    .seo-heading::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0.25rem;
        width: 4px;
        height: 100%;
        background: linear-gradient(
            180deg,
            var(--color-accent),
            var(--color-primary)
        );
        border-radius: 2px;
    }

    .seo-body {
        font-size: clamp(1rem, 1.15vw, 1.0625rem);
        color: var(--text-body);
        line-height: 1.8;
    }

    /* =========================================
       FINAL CTA
       ========================================= */
    .final-cta {
        position: relative;
        background: var(--bg-surface);
        padding: clamp(4rem, 8vw, 6rem) 0;
        overflow: hidden;
    }

    .final-cta-bg {
        position: absolute;
        inset: 0;
        background: linear-gradient(
            135deg,
            rgba(20, 211, 227, 0.05) 0%,
            transparent 50%
        );
    }

    .cta-bolt-decoration {
        position: absolute;
        color: var(--color-accent);
        opacity: 0.1;
    }

    .cta-bolt-1 {
        width: 8rem;
        height: 8rem;
        top: 2rem;
        left: 5%;
        animation: float 6s ease-in-out infinite;
    }

    .cta-bolt-2 {
        width: 6rem;
        height: 6rem;
        bottom: 2rem;
        right: 10%;
        animation: float 6s ease-in-out infinite 3s;
    }

    @keyframes float {
        0%,
        100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
    }

    .final-cta-content {
        max-width: 48rem;
        margin: 0 auto;
        text-align: center;
        position: relative;
    }

    .cta-icon-wrapper {
        display: inline-block;
        margin-bottom: 1.5rem;
    }

    .cta-icon {
        width: 4rem;
        height: 4rem;
        color: var(--color-accent);
        filter: drop-shadow(0 0 20px rgba(20, 211, 227, 0.5));
        animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
        0%,
        100% {
            opacity: 1;
            transform: scale(1);
        }
        50% {
            opacity: 0.8;
            transform: scale(1.05);
        }
    }

    .cta-title {
        font-family: var(--font-display);
        font-size: clamp(1.75rem, 4.5vw, 2.75rem);
        font-weight: 800;
        color: var(--color-primary);
        text-transform: uppercase;
        margin-bottom: 1rem;
        line-height: 1.15;
    }

    .cta-description {
        font-size: clamp(1rem, 1.25vw, 1.125rem);
        color: var(--text-body);
        margin-bottom: 2rem;
        max-width: 36rem;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.7;
    }

    .cta-buttons {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        justify-content: center;
    }

    @media (min-width: 640px) {
        .cta-buttons {
            flex-direction: row;
        }
    }
</style>
