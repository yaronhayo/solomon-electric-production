---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import { IMAGES } from "../config/images";
import BookingForm from "../components/BookingForm.astro";
import Breadcrumb from "../components/Breadcrumb.astro";
import { SITE_CONFIG } from "../config/site";

// Breadcrumb schema for SEO
const breadcrumbSchema = {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    itemListElement: [
        {
            "@type": "ListItem",
            position: 1,
            name: "Home",
            item: SITE_CONFIG.seo.siteUrl,
        },
        {
            "@type": "ListItem",
            position: 2,
            name: "Book Online",
            item: `${SITE_CONFIG.seo.siteUrl}/book`,
        },
    ],
};

// ScheduleAction schema for enhanced booking snippets
const scheduleActionSchema = {
    "@context": "https://schema.org",
    "@type": "ScheduleAction",
    name: "Schedule Electrical Service",
    description:
        "Book a licensed electrician in Miami-Dade & Broward. Fast appointments available.",
    target: {
        "@type": "EntryPoint",
        urlTemplate: `${SITE_CONFIG.seo.siteUrl}/book`,
        actionPlatform: [
            "http://schema.org/DesktopWebPlatform",
            "http://schema.org/MobileWebPlatform",
        ],
    },
    agent: {
        "@type": "ElectricalContractor",
        "@id": `${SITE_CONFIG.seo.siteUrl}/#organization`,
        name: "Solomon Electric",
        telephone: SITE_CONFIG.contact.phone.formatted,
    },
    object: {
        "@type": "Service",
        name: "Electrical Services",
        provider: {
            "@type": "ElectricalContractor",
            name: "Solomon Electric",
        },
    },
};
---

<Layout
    title="Schedule Electrician Miami | Book Online | Solomon"
    description="Book electrical service online in 60 seconds. Prompt appointments in Miami-Dade & Broward. Licensed electricians, free estimates."
    ogImage={`${SITE_CONFIG.seo.siteUrl}/og-default.webp`}
    ogImageAlt="Book Solomon Electric Online - Fast Electrician Appointments in Miami"
>
    <!-- Breadcrumb Schema -->
    <script
        type="application/ld+json"
        set:html={JSON.stringify(breadcrumbSchema)}
    />
    <!-- ScheduleAction Schema -->
    <script
        type="application/ld+json"
        set:html={JSON.stringify(scheduleActionSchema)}
    />
    <!-- Breadcrumb Navigation -->
    <Breadcrumb
        items={[{ label: "Home", href: "/" }, { label: "Book Online" }]}
    />

    <!-- Hero Section - Fully responsive with optimized spacing -->
    <section
        class="relative min-h-[clamp(700px,100vh,1000px)] flex items-center overflow-hidden pt-36 pb-20 md:pt-48 md:pb-32"
    >
        <!-- Background with overlay -->
        <div class="absolute inset-0 z-0">
            <Image
                src={IMAGES.heroes.book.src}
                alt="Book electrician online Miami - Solomon Electric fast appointments"
                class="w-full h-full object-cover"
            />
            <div
                class="absolute inset-0 bg-gradient-to-r from-primary/95 via-primary/85 to-primary/50 md:via-primary/80 md:to-primary/40 lg:to-transparent"
            >
            </div>
            <div
                class="absolute inset-0 bg-gradient-to-t from-primary/60 via-transparent to-transparent md:hidden"
            >
            </div>
        </div>

        <!-- Hero Content -->
        <div class="container-custom relative z-10 w-full">
            <div
                class="grid grid-cols-1 lg:grid-cols-12 items-center"
                style="gap: var(--spacing-xl);"
            >
                <!-- Left Column: Text -->
                <div class="lg:col-span-7">
                    <p
                        class="text-accent tracking-[0.3em] font-bold uppercase"
                        style="font-size: var(--text-nav); margin-bottom: var(--spacing-md);"
                    >
                        Free Estimates • Licensed #{
                            SITE_CONFIG.credentials.license.number
                        }
                    </p>

                    <h1
                        class="font-black text-white leading-[0.9]"
                        style="font-size: var(--text-display); margin-bottom: var(--spacing-lg); letter-spacing: -0.04em;"
                    >
                        Book Miami Electrician<br />
                        <span
                            class="text-transparent bg-clip-text bg-gradient-to-r from-accent to-white"
                        >
                            Fast &amp; Reliable
                        </span>
                    </h1>

                    <p
                        class="text-white/80 font-light leading-relaxed"
                        style="font-size: var(--text-h4); margin-bottom: var(--spacing-lg);"
                    >
                        Takes less than 2 minutes. No commitment required—just
                        tell us what's going on and we'll reach out to discuss
                        how we can help. A real electrician will review your
                        request personally.
                    </p>
                </div>

                <!-- Right Column: Booking Form -->
                <div class="lg:col-span-5 relative">
                    <BookingForm />
                </div>
            </div>
        </div>
    </section>

    <!-- Trust Strip -->
    <section
        class="bg-white"
        style="padding-top: var(--spacing-xl); padding-bottom: var(--spacing-xl);"
    >
        <div class="container-custom text-center">
            <h2
                class="text-[length:var(--text-h3)] font-black text-primary uppercase mb-4 font-display"
            >
                Licensed Miami Electricians — Book With <span
                    class="text-accent-text">Confidence</span
                >
            </h2>
            <p
                class="text-[var(--clr-body)] text-[length:var(--text-body)] font-medium leading-relaxed max-w-3xl mx-auto"
            >
                Every appointment is handled by FL-licensed electricians
                (#EC13012419), backed by $2M insurance. Same-day and weekend
                availability across Miami-Dade, Broward & Palm Beach. Free
                estimates, upfront pricing, and no hidden fees—guaranteed.
            </p>
        </div>
    </section>
</Layout>
